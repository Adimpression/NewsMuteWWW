(function(window,angular,undefined){"use strict";MdPanelService.$inject=["$rootElement","$rootScope","$injector","$window"];angular.module("material.components.panel",["material.core","material.components.backdrop"]).service("$mdPanel",MdPanelService);var defaultZIndex=80;var MD_PANEL_HIDDEN="_md-panel-hidden";var FOCUS_TRAP_TEMPLATE=angular.element('<div class="_md-panel-focus-trap" tabindex="0"></div>');function MdPanelService($rootElement,$rootScope,$injector,$window){this._defaultConfigOptions={bindToController:true,clickOutsideToClose:false,disableParentScroll:false,escapeToClose:false,focusOnOpen:true,fullscreen:false,hasBackdrop:false,propagateContainerEvents:false,transformTemplate:angular.bind(this,this._wrapTemplate),trapFocus:false,zIndex:defaultZIndex};this._config={};this._$rootElement=$rootElement;this._$rootScope=$rootScope;this._$injector=$injector;this._$window=$window;this._trackedPanels={};this.animation=MdPanelAnimation.animation;this.xPosition=MdPanelPosition.xPosition;this.yPosition=MdPanelPosition.yPosition}MdPanelService.prototype.create=function(config){config=config||{};if(angular.isDefined(config.id)&&this._trackedPanels[config.id]){return this._trackedPanels[config.id]}this._config={id:config.id||"panel_"+this._$injector.get("$mdUtil").nextUid(),scope:this._$rootScope.$new(true),attachTo:this._$rootElement};angular.extend(this._config,this._defaultConfigOptions,config);var panelRef=new MdPanelRef(this._config,this._$injector);this._trackedPanels[config.id]=panelRef;return panelRef};MdPanelService.prototype.open=function(config){var panelRef=this.create(config);return panelRef.open().then(function(){return panelRef})};MdPanelService.prototype.newPanelPosition=function(){return new MdPanelPosition(this._$injector)};MdPanelService.prototype.newPanelAnimation=function(){return new MdPanelAnimation(this._$injector)};MdPanelService.prototype._wrapTemplate=function(origTemplate){var template=origTemplate||"";return""+'<div class="md-panel-outer-wrapper">'+'  <div class="md-panel" style="left: -9999px;">'+template+"</div>"+"</div>"};function MdPanelRef(config,$injector){this._$q=$injector.get("$q");this._$mdCompiler=$injector.get("$mdCompiler");this._$mdConstant=$injector.get("$mdConstant");this._$mdUtil=$injector.get("$mdUtil");this._$rootScope=$injector.get("$rootScope");this._$animate=$injector.get("$animate");this._$mdPanel=$injector.get("$mdPanel");this._$log=$injector.get("$log");this._$window=$injector.get("$window");this._$$rAF=$injector.get("$$rAF");this.id=config.id;this.config=config;this.panelContainer;this.panelEl;this.isAttached=false;this._removeListeners=[];this._topFocusTrap;this._bottomFocusTrap;this._backdropRef;this._restoreScroll=null}MdPanelRef.prototype.open=function(){var self=this;return this._$q(function(resolve,reject){var done=self._done(resolve,self);var show=self._simpleBind(self.show,self);self.attach().then(show).then(done).catch(reject)})};MdPanelRef.prototype.close=function(){var self=this;return this._$q(function(resolve,reject){var done=self._done(resolve,self);var detach=self._simpleBind(self.detach,self);self.hide().then(detach).then(done).catch(reject)})};MdPanelRef.prototype.attach=function(){if(this.isAttached&&this.panelEl){return this._$q.when(this)}var self=this;return this._$q(function(resolve,reject){var done=self._done(resolve,self);var onDomAdded=self.config["onDomAdded"]||angular.noop;var addListeners=function(response){self.isAttached=true;self._addEventListeners();return response};self._$q.all([self._createBackdrop(),self._createPanel().then(addListeners).catch(reject)]).then(onDomAdded).then(done).catch(reject)})};MdPanelRef.prototype.detach=function(){if(!this.isAttached){return this._$q.when(this)}var self=this;var onDomRemoved=self.config["onDomRemoved"]||angular.noop;var detachFn=function(){self._removeEventListeners();if(self._topFocusTrap&&self._topFocusTrap.parentNode){self._topFocusTrap.parentNode.removeChild(self._topFocusTrap)}if(self._bottomFocusTrap&&self._bottomFocusTrap.parentNode){self._bottomFocusTrap.parentNode.removeChild(self._bottomFocusTrap)}self.panelContainer.remove();self.isAttached=false;return self._$q.when(self)};if(this._restoreScroll){this._restoreScroll();this._restoreScroll=null}return this._$q(function(resolve,reject){var done=self._done(resolve,self);self._$q.all([detachFn(),self._backdropRef?self._backdropRef.detach():true]).then(onDomRemoved).then(done).catch(reject)})};MdPanelRef.prototype.destroy=function(){this.config.scope.$destroy();this.config.locals=null};MdPanelRef.prototype.show=function(){if(!this.panelContainer){return this._$q(function(resolve,reject){reject("Panel does not exist yet. Call open() or attach().")})}if(!this.panelContainer.hasClass(MD_PANEL_HIDDEN)){return this._$q.when(this)}var self=this;var animatePromise=function(){self.panelContainer.removeClass(MD_PANEL_HIDDEN);return self._animateOpen()};return this._$q(function(resolve,reject){var done=self._done(resolve,self);var onOpenComplete=self.config["onOpenComplete"]||angular.noop;self._$q.all([self._backdropRef?self._backdropRef.show():self,animatePromise().then(function(){self._focusOnOpen()},reject)]).then(onOpenComplete).then(done).catch(reject)})};MdPanelRef.prototype.hide=function(){if(!this.panelContainer){return this._$q(function(resolve,reject){reject("Panel does not exist yet. Call open() or attach().")})}if(this.panelContainer.hasClass(MD_PANEL_HIDDEN)){return this._$q.when(this)}var self=this;return this._$q(function(resolve,reject){var done=self._done(resolve,self);var onRemoving=self.config["onRemoving"]||angular.noop;var focusOnOrigin=function(){var origin=self.config["origin"];if(origin){getElement(origin).focus()}};var hidePanel=function(){self.panelContainer.addClass(MD_PANEL_HIDDEN)};self._$q.all([self._backdropRef?self._backdropRef.hide():self,self._animateClose().then(onRemoving).then(hidePanel).then(focusOnOrigin).catch(reject)]).then(done,reject)})};MdPanelRef.prototype.addClass=function(newClass,toElement){this._$log.warn("The addClass method is in the process of being deprecated. "+"Full deprecation is scheduled for the Angular Material 1.2 release. "+"To achieve the same results, use the panelContainer or panelEl "+"JQLite elements that are referenced in MdPanelRef.");if(!this.panelContainer){throw new Error("Panel does not exist yet. Call open() or attach().")}if(!toElement&&!this.panelContainer.hasClass(newClass)){this.panelContainer.addClass(newClass)}else if(toElement&&!this.panelEl.hasClass(newClass)){this.panelEl.addClass(newClass)}};MdPanelRef.prototype.removeClass=function(oldClass,fromElement){this._$log.warn("The removeClass method is in the process of being deprecated. "+"Full deprecation is scheduled for the Angular Material 1.2 release. "+"To achieve the same results, use the panelContainer or panelEl "+"JQLite elements that are referenced in MdPanelRef.");if(!this.panelContainer){throw new Error("Panel does not exist yet. Call open() or attach().")}if(!fromElement&&this.panelContainer.hasClass(oldClass)){this.panelContainer.removeClass(oldClass)}else if(fromElement&&this.panelEl.hasClass(oldClass)){this.panelEl.removeClass(oldClass)}};MdPanelRef.prototype.toggleClass=function(toggleClass,onElement){this._$log.warn("The toggleClass method is in the process of being deprecated. "+"Full deprecation is scheduled for the Angular Material 1.2 release. "+"To achieve the same results, use the panelContainer or panelEl "+"JQLite elements that are referenced in MdPanelRef.");if(!this.panelContainer){throw new Error("Panel does not exist yet. Call open() or attach().")}if(!onElement){this.panelContainer.toggleClass(toggleClass)}else{this.panelEl.toggleClass(toggleClass)}};MdPanelRef.prototype._createPanel=function(){var self=this;return this._$q(function(resolve,reject){if(!self.config.locals){self.config.locals={}}self.config.locals.mdPanelRef=self;self._$mdCompiler.compile(self.config).then(function(compileData){self.panelContainer=compileData.link(self.config["scope"]);getElement(self.config["attachTo"]).append(self.panelContainer);if(self.config["disableParentScroll"]){self._restoreScroll=self._$mdUtil.disableScrollAround(null,self.panelContainer,{disableScrollMask:true})}self.panelEl=angular.element(self.panelContainer[0].querySelector(".md-panel"));if(self.config["panelClass"]){self.panelEl.addClass(self.config["panelClass"])}if(self.config["propagateContainerEvents"]){self.panelContainer.css("pointer-events","none")}if(self._$animate.pin){self._$animate.pin(self.panelContainer,getElement(self.config["attachTo"]))}self._configureTrapFocus();self._addStyles().then(function(){resolve(self)},reject)},reject)})};MdPanelRef.prototype._addStyles=function(){var self=this;return this._$q(function(resolve){self.panelContainer.css("z-index",self.config["zIndex"]);self.panelEl.css("z-index",self.config["zIndex"]+1);var hideAndResolve=function(){self.panelEl.css("left","");self.panelContainer.addClass(MD_PANEL_HIDDEN);resolve(self)};if(self.config["fullscreen"]){self.panelEl.addClass("_md-panel-fullscreen");hideAndResolve();return}var positionConfig=self.config["position"];if(!positionConfig){hideAndResolve();return}self._$rootScope["$$postDigest"](function(){self._updatePosition(true);resolve(self)})})};MdPanelRef.prototype.updatePosition=function(position){if(!this.panelContainer){throw new Error("Panel does not exist yet. Call open() or attach().")}this.config["position"]=position;this._updatePosition()};MdPanelRef.prototype._updatePosition=function(init){var positionConfig=this.config["position"];if(positionConfig){positionConfig._setPanelPosition(this.panelEl);if(init){this.panelContainer.addClass(MD_PANEL_HIDDEN)}this.panelEl.css(MdPanelPosition.absPosition.TOP,positionConfig.getTop());this.panelEl.css(MdPanelPosition.absPosition.BOTTOM,positionConfig.getBottom());this.panelEl.css(MdPanelPosition.absPosition.LEFT,positionConfig.getLeft());this.panelEl.css(MdPanelPosition.absPosition.RIGHT,positionConfig.getRight());var prefixedTransform=this._$mdConstant.CSS.TRANSFORM;this.panelEl.css(prefixedTransform,positionConfig.getTransform())}};MdPanelRef.prototype._focusOnOpen=function(){if(this.config["focusOnOpen"]){var self=this;this._$rootScope["$$postDigest"](function(){var target=self._$mdUtil.findFocusTarget(self.panelEl)||self.panelEl;target.focus()})}};MdPanelRef.prototype._createBackdrop=function(){if(this.config.hasBackdrop){if(!this._backdropRef){var backdropAnimation=this._$mdPanel.newPanelAnimation().openFrom(this.config.attachTo).withAnimation({open:"_md-opaque-enter",close:"_md-opaque-leave"});var backdropConfig={animation:backdropAnimation,attachTo:this.config.attachTo,focusOnOpen:false,panelClass:"_md-panel-backdrop",zIndex:this.config.zIndex-1};this._backdropRef=this._$mdPanel.create(backdropConfig)}if(!this._backdropRef.isAttached){return this._backdropRef.attach()}}};MdPanelRef.prototype._addEventListeners=function(){this._configureEscapeToClose();this._configureClickOutsideToClose();this._configureScrollListener()};MdPanelRef.prototype._removeEventListeners=function(){this._removeListeners&&this._removeListeners.forEach(function(removeFn){removeFn()});this._removeListeners=[]};MdPanelRef.prototype._configureEscapeToClose=function(){if(this.config["escapeToClose"]){var parentTarget=getElement(this.config["attachTo"]);var self=this;var keyHandlerFn=function(ev){if(ev.keyCode===self._$mdConstant.KEY_CODE.ESCAPE){ev.stopPropagation();ev.preventDefault();self.close()}};this.panelContainer.on("keydown",keyHandlerFn);parentTarget.on("keydown",keyHandlerFn);this._removeListeners.push(function(){self.panelContainer.off("keydown",keyHandlerFn);parentTarget.off("keydown",keyHandlerFn)})}};MdPanelRef.prototype._configureClickOutsideToClose=function(){if(this.config["clickOutsideToClose"]){var target=this.panelContainer;var sourceElem;var mousedownHandler=function(ev){sourceElem=ev.target};var self=this;var mouseupHandler=function(ev){if(sourceElem===target[0]&&ev.target===target[0]){ev.stopPropagation();ev.preventDefault();self.close()}};target.on("mousedown",mousedownHandler);target.on("mouseup",mouseupHandler);this._removeListeners.push(function(){target.off("mousedown",mousedownHandler);target.off("mouseup",mouseupHandler)})}};MdPanelRef.prototype._configureScrollListener=function(){var updatePosition=angular.bind(this,this._updatePosition);var debouncedUpdatePosition=this._$$rAF.throttle(updatePosition);var self=this;var onScroll=function(){if(!self.config["disableParentScroll"]){debouncedUpdatePosition()}};this._$window.addEventListener("scroll",onScroll,true);this._removeListeners.push(function(){self._$window.removeEventListener("scroll",onScroll,true)})};MdPanelRef.prototype._configureTrapFocus=function(){this.panelEl.attr("tabIndex","-1");if(this.config["trapFocus"]){var element=this.panelEl;this._topFocusTrap=FOCUS_TRAP_TEMPLATE.clone()[0];this._bottomFocusTrap=FOCUS_TRAP_TEMPLATE.clone()[0];var focusHandler=function(){element.focus()};this._topFocusTrap.addEventListener("focus",focusHandler);this._bottomFocusTrap.addEventListener("focus",focusHandler);this._removeListeners.push(this._simpleBind(function(){this._topFocusTrap.removeEventListener("focus",focusHandler);this._bottomFocusTrap.removeEventListener("focus",focusHandler)},this));element[0].parentNode.insertBefore(this._topFocusTrap,element[0]);element.after(this._bottomFocusTrap)}};MdPanelRef.prototype._animateOpen=function(){this.panelContainer.addClass("md-panel-is-showing");var animationConfig=this.config["animation"];if(!animationConfig){this.panelContainer.addClass("_md-panel-shown");return this._$q.when(this)}var self=this;return this._$q(function(resolve){var done=self._done(resolve,self);var warnAndOpen=function(){self._$log.warn("MdPanel Animations failed. Showing panel without animating.");done()};animationConfig.animateOpen(self.panelEl).then(done,warnAndOpen)})};MdPanelRef.prototype._animateClose=function(){var animationConfig=this.config["animation"];if(!animationConfig){this.panelContainer.removeClass("md-panel-is-showing");this.panelContainer.removeClass("_md-panel-shown");return this._$q.when(this)}var self=this;return this._$q(function(resolve){var done=function(){self.panelContainer.removeClass("md-panel-is-showing");resolve(self)};var warnAndClose=function(){self._$log.warn("MdPanel Animations failed. Hiding panel without animating.");done()};animationConfig.animateClose(self.panelEl).then(done,warnAndClose)})};MdPanelRef.prototype._simpleBind=function(callback,self){return function(value){return callback.apply(self,value)}};MdPanelRef.prototype._done=function(callback,self){return function(){callback(self)}};function MdPanelPosition($injector){this._$window=$injector.get("$window");this._isRTL=$injector.get("$mdUtil").bidi()==="rtl";this._absolute=false;this._relativeToEl;this._top="";this._bottom="";this._left="";this._right="";this._translateX=[];this._translateY=[];this._positions=[];this._actualPosition}MdPanelPosition.xPosition={CENTER:"center",ALIGN_START:"align-start",ALIGN_END:"align-end",OFFSET_START:"offset-start",OFFSET_END:"offset-end"};MdPanelPosition.yPosition={CENTER:"center",ALIGN_TOPS:"align-tops",ALIGN_BOTTOMS:"align-bottoms",ABOVE:"above",BELOW:"below"};MdPanelPosition.absPosition={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"};MdPanelPosition.prototype.absolute=function(){this._absolute=true;return this};MdPanelPosition.prototype._setPosition=function(position,value){if(position===MdPanelPosition.absPosition.RIGHT||position===MdPanelPosition.absPosition.LEFT){this._left=this._right=""}else if(position===MdPanelPosition.absPosition.BOTTOM||position===MdPanelPosition.absPosition.TOP){this._top=this._bottom=""}else{var positions=Object.keys(MdPanelPosition.absPosition).join().toLowerCase();throw new Error("Position must be one of "+positions+".")}this["_"+position]=angular.isString(value)?value:"0";return this};MdPanelPosition.prototype.top=function(top){return this._setPosition(MdPanelPosition.absPosition.TOP,top)};MdPanelPosition.prototype.bottom=function(bottom){return this._setPosition(MdPanelPosition.absPosition.BOTTOM,bottom)};MdPanelPosition.prototype.start=function(start){var position=this._isRTL?MdPanelPosition.absPosition.RIGHT:MdPanelPosition.absPosition.LEFT;return this._setPosition(position,start)};MdPanelPosition.prototype.end=function(end){var position=this._isRTL?MdPanelPosition.absPosition.LEFT:MdPanelPosition.absPosition.RIGHT;return this._setPosition(position,end)};MdPanelPosition.prototype.left=function(left){return this._setPosition(MdPanelPosition.absPosition.LEFT,left)};MdPanelPosition.prototype.right=function(right){return this._setPosition(MdPanelPosition.absPosition.RIGHT,right)};MdPanelPosition.prototype.centerHorizontally=function(){this._left="50%";this._right="";this._translateX=["-50%"];return this};MdPanelPosition.prototype.centerVertically=function(){this._top="50%";this._bottom="";this._translateY=["-50%"];return this};MdPanelPosition.prototype.center=function(){return this.centerHorizontally().centerVertically()};MdPanelPosition.prototype.relativeTo=function(element){this._absolute=false;this._relativeToEl=getElement(element);return this};MdPanelPosition.prototype.addPanelPosition=function(xPosition,yPosition){if(!this._relativeToEl){throw new Error("addPanelPosition can only be used with relative "+"positioning. Set relativeTo first.")}this._validateXPosition(xPosition);this._validateYPosition(yPosition);this._positions.push({x:xPosition,y:yPosition});return this};MdPanelPosition.prototype._validateYPosition=function(yPosition){if(yPosition==null){return}var positionKeys=Object.keys(MdPanelPosition.yPosition);var positionValues=[];for(var key,i=0;key=positionKeys[i];i++){var position=MdPanelPosition.yPosition[key];positionValues.push(position);if(position===yPosition){return}}throw new Error("Panel y position only accepts the following values:\n"+positionValues.join(" | "))};MdPanelPosition.prototype._validateXPosition=function(xPosition){if(xPosition==null){return}var positionKeys=Object.keys(MdPanelPosition.xPosition);var positionValues=[];for(var key,i=0;key=positionKeys[i];i++){var position=MdPanelPosition.xPosition[key];positionValues.push(position);if(position===xPosition){return}}throw new Error("Panel x Position only accepts the following values:\n"+positionValues.join(" | "))};MdPanelPosition.prototype.withOffsetX=function(offsetX){this._translateX.push(offsetX);return this};MdPanelPosition.prototype.withOffsetY=function(offsetY){this._translateY.push(offsetY);return this};MdPanelPosition.prototype.getTop=function(){return this._top};MdPanelPosition.prototype.getBottom=function(){return this._bottom};MdPanelPosition.prototype.getLeft=function(){return this._left};MdPanelPosition.prototype.getRight=function(){return this._right};MdPanelPosition.prototype.getTransform=function(){var translateX=this._reduceTranslateValues("translateX",this._translateX);var translateY=this._reduceTranslateValues("translateY",this._translateY);return(translateX+" "+translateY).trim()};MdPanelPosition.prototype._isOnscreen=function(panelEl){var left=parseInt(this.getLeft());var top=parseInt(this.getTop());var right=left+panelEl[0].offsetWidth;var bottom=top+panelEl[0].offsetHeight;return left>=0&&top>=0&&bottom<=this._$window.innerHeight&&right<=this._$window.innerWidth};MdPanelPosition.prototype.getActualPosition=function(){return this._actualPosition};MdPanelPosition.prototype._reduceTranslateValues=function(translateFn,values){return values.map(function(translation){return translateFn+"("+translation+")"}).join(" ")};MdPanelPosition.prototype._setPanelPosition=function(panelEl){if(this._absolute){return}if(this._actualPosition){this._calculatePanelPosition(panelEl,this._actualPosition);return}for(var i=0;i<this._positions.length;i++){this._actualPosition=this._positions[i];this._calculatePanelPosition(panelEl,this._actualPosition);if(this._isOnscreen(panelEl)){break}}};MdPanelPosition.prototype._reverseXPosition=function(position){if(position===MdPanelPosition.xPosition.CENTER){return}var start="start";var end="end";return position.indexOf(start)>-1?position.replace(start,end):position.replace(end,start)};MdPanelPosition.prototype._bidi=function(position){return this._isRTL?this._reverseXPosition(position):position};MdPanelPosition.prototype._calculatePanelPosition=function(panelEl,position){var panelBounds=panelEl[0].getBoundingClientRect();var panelWidth=panelBounds.width;var panelHeight=panelBounds.height;var targetBounds=this._relativeToEl[0].getBoundingClientRect();var targetLeft=targetBounds.left;var targetRight=targetBounds.right;var targetWidth=targetBounds.width;switch(this._bidi(position.x)){case MdPanelPosition.xPosition.OFFSET_START:this._left=targetLeft-panelWidth+"px";break;case MdPanelPosition.xPosition.ALIGN_END:this._left=targetRight-panelWidth+"px";break;case MdPanelPosition.xPosition.CENTER:var left=targetLeft+.5*targetWidth-.5*panelWidth;this._left=left+"px";break;case MdPanelPosition.xPosition.ALIGN_START:this._left=targetLeft+"px";break;case MdPanelPosition.xPosition.OFFSET_END:this._left=targetRight+"px";break}var targetTop=targetBounds.top;var targetBottom=targetBounds.bottom;var targetHeight=targetBounds.height;switch(position.y){case MdPanelPosition.yPosition.ABOVE:this._top=targetTop-panelHeight+"px";break;case MdPanelPosition.yPosition.ALIGN_BOTTOMS:this._top=targetBottom-panelHeight+"px";break;case MdPanelPosition.yPosition.CENTER:var top=targetTop+.5*targetHeight-.5*panelHeight;this._top=top+"px";break;case MdPanelPosition.yPosition.ALIGN_TOPS:this._top=targetTop+"px";break;case MdPanelPosition.yPosition.BELOW:this._top=targetBottom+"px";break}};function MdPanelAnimation($injector){this._$mdUtil=$injector.get("$mdUtil");this._openFrom;this._closeTo;this._animationClass=""}MdPanelAnimation.animation={SLIDE:"md-panel-animate-slide",SCALE:"md-panel-animate-scale",FADE:"md-panel-animate-fade"};MdPanelAnimation.prototype.openFrom=function(openFrom){openFrom=openFrom.target?openFrom.target:openFrom;this._openFrom=this._getPanelAnimationTarget(openFrom);if(!this._closeTo){this._closeTo=this._openFrom}return this};MdPanelAnimation.prototype.closeTo=function(closeTo){this._closeTo=this._getPanelAnimationTarget(closeTo);return this};MdPanelAnimation.prototype._getPanelAnimationTarget=function(location){if(angular.isDefined(location.top)||angular.isDefined(location.left)){return{element:undefined,bounds:{top:location.top||0,left:location.left||0}}}else{return this._getBoundingClientRect(getElement(location))}};MdPanelAnimation.prototype.withAnimation=function(cssClass){this._animationClass=cssClass;return this};MdPanelAnimation.prototype.animateOpen=function(panelEl){var animator=this._$mdUtil.dom.animator;this._fixBounds(panelEl);var animationOptions={};var panelTransform=panelEl[0].style.transform||"";var openFrom=animator.toTransformCss(panelTransform);var openTo=animator.toTransformCss(panelTransform);switch(this._animationClass){case MdPanelAnimation.animation.SLIDE:panelEl.css("opacity","1");animationOptions={transitionInClass:"_md-panel-animate-enter"};var openSlide=animator.calculateSlideToOrigin(panelEl,this._openFrom)||"";openFrom=animator.toTransformCss(openSlide+" "+panelTransform);break;case MdPanelAnimation.animation.SCALE:animationOptions={transitionInClass:"_md-panel-animate-enter"};var openScale=animator.calculateZoomToOrigin(panelEl,this._openFrom)||"";openFrom=animator.toTransformCss(openScale+" "+panelTransform);break;case MdPanelAnimation.animation.FADE:animationOptions={transitionInClass:"_md-panel-animate-enter"};break;default:if(angular.isString(this._animationClass)){animationOptions={transitionInClass:this._animationClass}}else{animationOptions={transitionInClass:this._animationClass["open"],transitionOutClass:this._animationClass["close"]}}}return animator.translate3d(panelEl,openFrom,openTo,animationOptions)};MdPanelAnimation.prototype.animateClose=function(panelEl){var animator=this._$mdUtil.dom.animator;var reverseAnimationOptions={};var panelTransform=panelEl[0].style.transform||"";var closeFrom=animator.toTransformCss(panelTransform);var closeTo=animator.toTransformCss(panelTransform);switch(this._animationClass){case MdPanelAnimation.animation.SLIDE:panelEl.css("opacity","1");reverseAnimationOptions={transitionInClass:"_md-panel-animate-leave"};var closeSlide=animator.calculateSlideToOrigin(panelEl,this._closeTo)||"";closeTo=animator.toTransformCss(closeSlide+" "+panelTransform);break;case MdPanelAnimation.animation.SCALE:reverseAnimationOptions={transitionInClass:"_md-panel-animate-scale-out _md-panel-animate-leave"};var closeScale=animator.calculateZoomToOrigin(panelEl,this._closeTo)||"";closeTo=animator.toTransformCss(closeScale+" "+panelTransform);break;case MdPanelAnimation.animation.FADE:reverseAnimationOptions={transitionInClass:"_md-panel-animate-fade-out _md-panel-animate-leave"};break;default:if(angular.isString(this._animationClass)){reverseAnimationOptions={transitionOutClass:this._animationClass}}else{reverseAnimationOptions={transitionInClass:this._animationClass["close"],transitionOutClass:this._animationClass["open"]}}}return animator.translate3d(panelEl,closeFrom,closeTo,reverseAnimationOptions)};MdPanelAnimation.prototype._fixBounds=function(panelEl){var panelWidth=panelEl[0].offsetWidth;var panelHeight=panelEl[0].offsetHeight;if(this._openFrom&&this._openFrom.bounds.height==null){this._openFrom.bounds.height=panelHeight}if(this._openFrom&&this._openFrom.bounds.width==null){this._openFrom.bounds.width=panelWidth}if(this._closeTo&&this._closeTo.bounds.height==null){this._closeTo.bounds.height=panelHeight}if(this._closeTo&&this._closeTo.bounds.width==null){this._closeTo.bounds.width=panelWidth}};MdPanelAnimation.prototype._getBoundingClientRect=function(element){if(element instanceof angular.element){return{element:element,bounds:element[0].getBoundingClientRect()}}};function getElement(el){var queryResult=angular.isString(el)?document.querySelector(el):el;return angular.element(queryResult)}})(window,window.angular);